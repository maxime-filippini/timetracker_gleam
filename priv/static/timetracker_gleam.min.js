var c=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},L=class{static fromArray(t,r){let n=r||new $e;for(let i=t.length-1;i>=0;--i)n=new Ie(t[i],n);return n}[Symbol.iterator](){return new Ft(this)}toArray(){return[...this]}atLeastLength(t){for(let r of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let r of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let r of this)t++;return t}};function _(e,t){return new Ie(e,t)}function u(e,t){return L.fromArray(e,t)}var Ft=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof $e)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},$e=class extends L{},Ie=class extends L{constructor(t,r){super(),this.head=t,this.tail=r}},Ne=class e{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatFromSlice(t,r,n){return gi(this.buffer,t,r,n)}intFromSlice(t,r,n,i){return wi(this.buffer,t,r,n,i)}binaryFromSlice(t,r){return new e(this.buffer.slice(t,r))}sliceAfter(t){return new e(this.buffer.slice(t))}},at=class{constructor(t){this.value=t}};function wi(e,t,r,n,i){let s=0;if(n)for(let o=t;o<r;o++)s=s*256+e[o];else for(let o=r-1;o>=t;o--)s=s*256+e[o];if(i){let l=2**((r-t)*8-1);s>=l&&(s-=l*2)}return s}function gi(e,t,r,n){let i=new DataView(e.buffer),s=r-t;if(s===8)return i.getFloat64(t,!n);if(s===4)return i.getFloat32(t,!n);{let o=`Sized floats must be 32-bit or 64-bit on JavaScript, got size of ${s*8} bits`;throw new globalThis.Error(o)}}var xe=class e extends c{static isResult(t){return t instanceof e}},d=class extends xe{constructor(t){super(),this[0]=t}isOk(){return!0}},m=class extends xe{constructor(t){super(),this[0]=t}isOk(){return!1}};function g(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!Ir(n)||!Ir(i)||!Ei(n,i)||bi(n,i)||ki(n,i)||vi(n,i)||Oi(n,i)||Li(n,i)||ji(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[l,a]=yi(n);for(let f of l(n))r.push(a(n,f),a(i,f))}return!0}function yi(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function bi(e,t){return e instanceof Date&&(e>t||e<t)}function ki(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function vi(e,t){return Array.isArray(e)&&e.length!==t.length}function Oi(e,t){return e instanceof Map&&e.size!==t.size}function Li(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function ji(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function Ir(e){return typeof e=="object"&&e!==null}function Ei(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function J(e,t){return t===0?0:e%t}function ee(e,t){return Math.trunc(Nr(e,t))}function Nr(e,t){return t===0?0:e/t}function ft(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.fn=n;for(let l in s)o[l]=s[l];return o}var y=class extends c{constructor(t){super(),this[0]=t}},b=class extends c{};function Bt(e,t){if(e instanceof y){let r=e[0];return new d(r)}else return new m(t)}function j(e){return Fr(e)}function Si(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function O(e){return Si(e,u([]))}function Ti(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return O(s);{let o=n.head,l=n.tail,a=i(o)?_(o,s):s;e=l,t=i,r=a}}}function Dr(e,t){return Ti(e,t,u([]))}function qi(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return O(s);{let o=n.head;e=n.tail,t=i,r=_(i(o),s)}}}function F(e,t){return qi(e,t,u([]))}function Ci(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return O(l);{let a=i.head,f=i.tail,h=_(s(a,o),l);e=f,t=s,r=o+1,n=h}}}function pt(e,t){return Ci(e,t,0,u([]))}function Ii(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return new d(O(s));{let o=n.head,l=n.tail,a=i(o);if(a.isOk()){let f=a[0];e=l,t=i,r=_(f,s)}else{let f=a[0];return new m(f)}}}}function Pt(e,t){return Ii(e,t,u([]))}function Pr(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return u([]);e=r.tail,t=n-1}}function Ni(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return O(s);if(n.hasLength(0))return O(s);{let l=n.head;e=n.tail,t=i-1,r=_(l,s)}}}function Rt(e,t){return Ni(e,t,u([]))}function zi(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function H(e,t){return zi(O(e),t)}function Fi(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=_(i,n)}}}function Bi(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return O(n);{let i=r.head;e=r.tail,t=Fi(i,n)}}}function Rr(e){return Bi(e,u([]))}function be(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function re(e,t){if(e.isOk()){let r=e[0];return new d(t(r))}else{let r=e[0];return new m(r)}}function mt(e,t){if(e.isOk()){let r=e[0];return new d(r)}else{let r=e[0];return new m(t(r))}}function ne(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new m(r)}}function Wt(e,t){return ne(e,t)}function Fe(e){return Jt(e)}function _t(e){return e}function X(e){return e}function Jr(e,t){return Hr(e,t)}var ve=class extends c{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}};function Ht(e){return Yt(e)}function Gt(e){return tn(e)}function Ui(e){return rn(e)}function Yr(e){return t=>{if(e.hasLength(0))return new m(u([new ve("another type",Ht(t),u([]))]));{let r=e.head,n=e.tail,i=r(t);if(i.isOk()){let s=i[0];return new d(s)}else return Yr(n)(t)}}}function Vr(e){return e.isOk()?u([]):e[0]}function Xr(e,t){let r=t,n=Yr(u([se,s=>re(Gt(s),j)])),i=(()=>{let s=n(r);if(s.isOk())return s[0];{let o=u(["<",Ht(r),">"]),l=Fe(o);return X(l)}})();return e.withFields({path:_(i,e.path)})}function Kr(e){return t=>ne(Ui(t),r=>{let i=Pt(r,e);return Zr(i,s=>Xr(s,"*"))})}function Zr(e,t){return mt(e,r=>F(r,t))}function se(e){return en(e)}function G(e,t){return r=>{let n=new ve("field","nothing",u([]));return ne(nn(r,e),i=>{let o=Bt(i,u([n])),l=ne(o,t);return Zr(l,a=>Xr(a,e))})}}function Vt(e,t,r){return n=>{let i=t(n),s=r(n);if(i.isOk()&&s.isOk()){let o=i[0],l=s[0];return new d(e(o,l))}else{let o=i,l=s;return new m(Rr(u([Vr(o),Vr(l)])))}}}var sn=new WeakMap,Xt=new DataView(new ArrayBuffer(8)),Kt=0;function Zt(e){let t=sn.get(e);if(t!==void 0)return t;let r=Kt++;return Kt===2147483647&&(Kt=0),sn.set(e,r),r}function Qt(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function tr(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function on(e){Xt.setFloat64(0,e);let t=Xt.getInt32(0),r=Xt.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function Wi(e){return tr(e.toString())}function Ji(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return Zt(e);if(e instanceof Date)return on(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+B(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+B(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+Qt(B(n),B(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+Qt(B(o),tr(s))|0}}return r}function B(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return on(e);case"string":return tr(e);case"bigint":return Wi(e);case"object":return Ji(e);case"symbol":return Zt(e);case"function":return Zt(e);default:return 0}}var R=5,rr=Math.pow(2,R),Hi=rr-1,Gi=rr/2,Vi=rr/4,A=0,P=1,N=2,oe=3,nr={type:N,bitmap:0,array:[]};function Me(e,t){return e>>>t&Hi}function xt(e,t){return 1<<Me(e,t)}function Yi(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function ir(e,t){return Yi(e&t-1)}function M(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function Xi(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function er(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function un(e,t,r,n,i,s){let o=B(t);if(o===n)return{type:oe,hash:o,array:[{type:A,k:t,v:r},{type:A,k:i,v:s}]};let l={val:!1};return De(sr(nr,e,o,t,r,l),e,n,i,s,l)}function De(e,t,r,n,i,s){switch(e.type){case P:return Ki(e,t,r,n,i,s);case N:return sr(e,t,r,n,i,s);case oe:return Zi(e,t,r,n,i,s)}}function Ki(e,t,r,n,i,s){let o=Me(r,t),l=e.array[o];if(l===void 0)return s.val=!0,{type:P,size:e.size+1,array:M(e.array,o,{type:A,k:n,v:i})};if(l.type===A)return g(n,l.k)?i===l.v?e:{type:P,size:e.size,array:M(e.array,o,{type:A,k:n,v:i})}:(s.val=!0,{type:P,size:e.size,array:M(e.array,o,un(t+R,l.k,l.v,r,n,i))});let a=De(l,t+R,r,n,i,s);return a===l?e:{type:P,size:e.size,array:M(e.array,o,a)}}function sr(e,t,r,n,i,s){let o=xt(r,t),l=ir(e.bitmap,o);if(e.bitmap&o){let a=e.array[l];if(a.type!==A){let h=De(a,t+R,r,n,i,s);return h===a?e:{type:N,bitmap:e.bitmap,array:M(e.array,l,h)}}let f=a.k;return g(n,f)?i===a.v?e:{type:N,bitmap:e.bitmap,array:M(e.array,l,{type:A,k:n,v:i})}:(s.val=!0,{type:N,bitmap:e.bitmap,array:M(e.array,l,un(t+R,f,a.v,r,n,i))})}else{let a=e.array.length;if(a>=Gi){let f=new Array(32),h=Me(r,t);f[h]=sr(nr,t+R,r,n,i,s);let q=0,C=e.bitmap;for(let I=0;I<32;I++){if(C&1){let Ce=e.array[q++];f[I]=Ce}C=C>>>1}return{type:P,size:a+1,array:f}}else{let f=Xi(e.array,l,{type:A,k:n,v:i});return s.val=!0,{type:N,bitmap:e.bitmap|o,array:f}}}}function Zi(e,t,r,n,i,s){if(r===e.hash){let o=or(e,n);if(o!==-1)return e.array[o].v===i?e:{type:oe,hash:r,array:M(e.array,o,{type:A,k:n,v:i})};let l=e.array.length;return s.val=!0,{type:oe,hash:r,array:M(e.array,l,{type:A,k:n,v:i})}}return De({type:N,bitmap:xt(e.hash,t),array:[e]},t,r,n,i,s)}function or(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(g(t,e.array[n].k))return n;return-1}function $t(e,t,r,n){switch(e.type){case P:return Qi(e,t,r,n);case N:return es(e,t,r,n);case oe:return ts(e,n)}}function Qi(e,t,r,n){let i=Me(r,t),s=e.array[i];if(s!==void 0){if(s.type!==A)return $t(s,t+R,r,n);if(g(n,s.k))return s}}function es(e,t,r,n){let i=xt(r,t);if(!(e.bitmap&i))return;let s=ir(e.bitmap,i),o=e.array[s];if(o.type!==A)return $t(o,t+R,r,n);if(g(n,o.k))return o}function ts(e,t){let r=or(e,t);if(!(r<0))return e.array[r]}function ur(e,t,r,n){switch(e.type){case P:return rs(e,t,r,n);case N:return ns(e,t,r,n);case oe:return is(e,n)}}function rs(e,t,r,n){let i=Me(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===A){if(!g(s.k,n))return e}else if(o=ur(s,t+R,r,n),o===s)return e;if(o===void 0){if(e.size<=Vi){let l=e.array,a=new Array(e.size-1),f=0,h=0,q=0;for(;f<i;){let C=l[f];C!==void 0&&(a[h]=C,q|=1<<f,++h),++f}for(++f;f<l.length;){let C=l[f];C!==void 0&&(a[h]=C,q|=1<<f,++h),++f}return{type:N,bitmap:q,array:a}}return{type:P,size:e.size-1,array:M(e.array,i,o)}}return{type:P,size:e.size,array:M(e.array,i,o)}}function ns(e,t,r,n){let i=xt(r,t);if(!(e.bitmap&i))return e;let s=ir(e.bitmap,i),o=e.array[s];if(o.type!==A){let l=ur(o,t+R,r,n);return l===o?e:l!==void 0?{type:N,bitmap:e.bitmap,array:M(e.array,s,l)}:e.bitmap===i?void 0:{type:N,bitmap:e.bitmap^i,array:er(e.array,s)}}return g(n,o.k)?e.bitmap===i?void 0:{type:N,bitmap:e.bitmap^i,array:er(e.array,s)}:e}function is(e,t){let r=or(e,t);if(r<0)return e;if(e.array.length!==1)return{type:oe,hash:e.hash,array:er(e.array,r)}}function ln(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===A){t(s.v,s.k);continue}ln(s,t)}}}var ue=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=$t(this.root,0,B(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?nr:this.root,s=De(i,0,B(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=ur(this.root,0,B(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:$t(this.root,0,B(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){ln(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+Qt(B(r),B(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let r=!0;return this.forEach((n,i)=>{r=r&&g(t.get(i,!n),n)}),r}};var ss=void 0,cn={};function Fr(e){return e.toString()}function fn(e){if(e==="")return 0;let t=pn(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function ht(e){let t=pn(e);return t?L.fromArray(Array.from(t).map(r=>r.segment)):L.fromArray(e.match(/./gsu))}function pn(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function Hr(e,t){return L.fromArray(e.split(t))}function Jt(e){let t="";for(let r of e)t=t+r;return t}var dn=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Ku=new RegExp(`^([${dn}]*)`,"g"),Zu=new RegExp(`([${dn}]*)$`,"g");function mn(e){console.log(e)}function _n(e){typeof process=="object"&&process.stderr?.write?process.stderr.write(e+`
`):typeof Deno=="object"?Deno.stderr.writeSync(new TextEncoder().encode(e+`
`)):console.log(e)}function hn(e,t){let r=e.get(t,cn);return r===cn?new m(ss):new d(r)}function Yt(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof xe)return"Result";if(e instanceof L)return"List";if(e instanceof Ne)return"BitArray";if(e instanceof ue)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function wt(e,t){return os(e,Yt(t))}function os(e,t){return new m(L.fromArray([new ve(e,t,L.fromArray([]))]))}function en(e){return typeof e=="string"?new d(e):wt("String",e)}function tn(e){return Number.isInteger(e)?new d(e):wt("Int",e)}function rn(e){return Array.isArray(e)?new d(L.fromArray(e)):e instanceof L?new d(e):wt("List",e)}function nn(e,t){let r=()=>wt("Dict",e);if(e instanceof ue||e instanceof WeakMap||e instanceof Map){let n=hn(e,t);return new d(n.isOk()?new y(n[0]):new b)}else return e===null?r():Object.getPrototypeOf(e)==Object.prototype?an(e,t,()=>new d(new b)):an(e,t,r)}function an(e,t,r){try{return t in e?new d(new y(e[t])):r()}catch{return r()}}function U(e){let t=typeof e;if(e===!0)return"True";if(e===!1)return"False";if(e===null)return"//js(null)";if(e===void 0)return"Nil";if(t==="string")return us(e);if(t==="bigint"||t==="number")return e.toString();if(Array.isArray(e))return`#(${e.map(U).join(", ")})`;if(e instanceof L)return fs(e);if(e instanceof at)return ds(e);if(e instanceof Ne)return ps(e);if(e instanceof c)return as(e);if(e instanceof ue)return ls(e);if(e instanceof Set)return`//js(Set(${[...e].map(U).join(", ")}))`;if(e instanceof RegExp)return`//js(${e})`;if(e instanceof Date)return`//js(Date("${e.toISOString()}"))`;if(e instanceof Function){let r=[];for(let n of Array(e.length).keys())r.push(String.fromCharCode(n+97));return`//fn(${r.join(", ")}) { ... }`}return cs(e)}function us(e){let t='"';for(let r=0;r<e.length;r++){let n=e[r];switch(n){case`
`:t+="\\n";break;case"\r":t+="\\r";break;case"	":t+="\\t";break;case"\f":t+="\\f";break;case"\\":t+="\\\\";break;case'"':t+='\\"';break;default:n<" "||n>"~"&&n<"\xA0"?t+="\\u{"+n.charCodeAt(0).toString(16).toUpperCase().padStart(4,"0")+"}":t+=n}}return t+='"',t}function ls(e){let t="dict.from_list([",r=!0;return e.forEach((n,i)=>{r||(t=t+", "),t=t+"#("+U(i)+", "+U(n)+")",r=!1}),t+"])"}function cs(e){let t=Object.getPrototypeOf(e)?.constructor?.name||"Object",r=[];for(let s of Object.keys(e))r.push(`${U(s)}: ${U(e[s])}`);let n=r.length?" "+r.join(", ")+" ":"";return`//js(${t==="Object"?"":t+" "}{${n}})`}function as(e){let t=Object.keys(e).map(r=>{let n=U(e[r]);return isNaN(parseInt(r))?`${r}: ${n}`:n}).join(", ");return t?`${e.constructor.name}(${t})`:e.constructor.name}function fs(e){return`[${e.toArray().map(U).join(", ")}]`}function ps(e){return`<<${Array.from(e.buffer).join(", ")}>>`}function ds(e){return`//utfcodepoint(${String.fromCodePoint(e.value)})`}var le=class extends c{},K=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}},Le=class extends c{constructor(t){super(),this.continuation=t}},gt=class extends c{constructor(t,r){super(),this.element=t,this.accumulator=r}};function hs(){return new le}function $n(e,t){return()=>{let r=t(e);if(r instanceof gt){let n=r.element,i=r.accumulator;return new K(n,$n(i,t))}else return new le}}function $s(e,t){let n=$n(e,t);return new Le(n)}function xs(e){return $s(void 0,t=>new gt(e(),void 0))}function xn(e){return xs(()=>e)}function ws(e,t,r){for(;;){let n=e,i=t,s=r,o=n();if(o instanceof K){let l=o[0];e=o[1],t=i,r=i(s,l)}else return s}}function gs(e,t,r){let n=e.continuation;return ws(n,r,t)}function wn(e){let r=gs(e,u([]),(n,i)=>_(i,n));return O(r)}function gn(e,t){return()=>{if(t>0){let n=e();if(n instanceof le)return new le;{let i=n[0],s=n[1];return new K(i,gn(s,t-1))}}else return new le}}function yn(e,t){let r=e.continuation,n=gn(r,t);return new Le(n)}function bn(e,t){let r=e();if(r instanceof K){let n=r[0],i=r[1];return new K(n,()=>bn(i,t))}else return t()}function lr(e,t){let r=()=>bn(e.continuation,t.continuation);return new Le(r)}function ys(e){let t=()=>new K(e(),hs);return new Le(t)}function cr(e){return ys(()=>e)}function ar(e){return fn(e)}function fr(e){let r=Fe(e);return X(r)}function kn(e,t,r){let i=ht(e),s=Pr(i,t),o=Rt(s,r);return fr(o)}function vs(e,t,r){if(r<0)return"";if(t<0){let s=ar(e)+t;return s<0?"":kn(e,s,r)}else return kn(e,t,r)}function pr(e,t){if(t==="")return ht(e);{let n=_t(e),i=Jr(n,t);return F(i,X)}}function Os(e,t){let r=ar(t),n=ee(e,r),i=J(e,r),s=xn(t),o=yn(s,n);return lr(o,cr(vs(t,0,i)))}function dr(e,t,r){let n=ar(e),i=t-n,s=Os(i,r),o=lr(s,cr(e)),l=wn(o);return fr(l)}function mr(e){let t=U(e);return X(t)}function vn(e){try{let t=JSON.parse(e);return new d(t)}catch(t){return new m(Es(t,e))}}function Es(e,t){return As(e)?new bt:Ss(e,t)}function As(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Ss(e,t){let r=[Ts,qs,Is,Cs];for(let n of r){let i=n(e,t);if(i)return i}return new Z("",0)}function Ts(e){let r=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!r)return null;let n=yt(r[1]);return new Z(n,-1)}function qs(e){let r=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!r)return null;let n=yt(r[1]),i=Number(r[2]);return new Z(n,i)}function Cs(e,t){let n=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!n)return null;let i=Number(n[2]),s=Number(n[3]),o=Ns(i,s,t),l=yt(t[o]);return new Z(l,o)}function Is(e){let r=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!r)return null;let n=yt(r[2]);return new Z(n,0)}function yt(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function Ns(e,t,r){if(e===1)return t-1;let n=1,i=0;return r.split("").find((s,o)=>(s===`
`&&(n+=1),n===e?(i=o+t,!0):!1)),i}var bt=class extends c{},Z=class extends c{constructor(t,r){super(),this.byte=t,this.position=r}};var _r=class extends c{constructor(t){super(),this[0]=t}};function Fs(e,t){return Wt(vn(e),r=>{let n=t(r);return mt(n,i=>new _r(i))})}function On(e,t){return Fs(e,t)}function Ln(e){return mn(e)}function jn(e){let r=mr(e);return _n(r),e}var Pe=class extends c{constructor(t,r,n,i,s,o,l){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=l}};function Ds(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return O(n);{let i=r.head,s=r.tail,o=i===""||i==="."?n:i===".."&&n.hasLength(0)?u([]):i===".."&&n.atLeastLength(1)?n.tail:_(i,n);e=s,t=o}}}function Ps(e){return Ds(e,u([]))}function An(e){return Ps(pr(e,"/"))}function Re(e,t,r){return e?t:r()}var Ue=class extends c{constructor(t){super(),this.all=t}};function S(e){return new Ue(u([(t,r)=>e(t)]))}function We(){return new Ue(u([]))}function Sn(e){return new Ue(be(e,u([]),(t,r)=>{let n=r.all;return H(t,n)}))}var Je=class extends c{constructor(t){super(),this.content=t}},k=class extends c{constructor(t,r,n,i,s,o,l){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=l}};var He=class extends c{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},Ge=class extends c{constructor(t,r){super(),this[0]=t,this[1]=r}};function ce(e,t){return new He(e,t,!1)}function qn(e,t){return new Ge("on"+e,t)}function p(e){return ce("class",e)}function Q(e){return ce("id",e)}function Ve(e){return ce("type",e)}function Ye(e){return ce("value",e)}function wr(e){return ce("name",e)}function gr(e){return ce("for",e)}function Cn(e){return ce("href",e)}function $(e,t,r){return e==="area"?new k("","",e,t,u([]),!1,!0):e==="base"?new k("","",e,t,u([]),!1,!0):e==="br"?new k("","",e,t,u([]),!1,!0):e==="col"?new k("","",e,t,u([]),!1,!0):e==="embed"?new k("","",e,t,u([]),!1,!0):e==="hr"?new k("","",e,t,u([]),!1,!0):e==="img"?new k("","",e,t,u([]),!1,!0):e==="input"?new k("","",e,t,u([]),!1,!0):e==="link"?new k("","",e,t,u([]),!1,!0):e==="meta"?new k("","",e,t,u([]),!1,!0):e==="param"?new k("","",e,t,u([]),!1,!0):e==="source"?new k("","",e,t,u([]),!1,!0):e==="track"?new k("","",e,t,u([]),!1,!0):e==="wbr"?new k("","",e,t,u([]),!1,!0):new k("","",e,t,r,!1,!1)}function je(e){return new Je(e)}var vt=class extends c{constructor(t){super(),this[0]=t}},W=class extends c{constructor(t){super(),this[0]=t}};var ae=class extends c{};var Ot=class extends c{constructor(t){super(),this[0]=t}};function br(e,t,r,n=!1){let i,s=[{prev:e,next:t,parent:e.parentNode}];for(;s.length;){let{prev:o,next:l,parent:a}=s.pop();if(l.subtree!==void 0&&(l=l.subtree()),l.content!==void 0)if(o)if(o.nodeType===Node.TEXT_NODE)o.textContent!==l.content&&(o.textContent=l.content),i??=o;else{let f=document.createTextNode(l.content);a.replaceChild(f,o),i??=f}else{let f=document.createTextNode(l.content);a.appendChild(f),i??=f}else if(l.tag!==void 0){let f=no({prev:o,next:l,dispatch:r,stack:s,isComponent:n});o?o!==f&&a.replaceChild(f,o):a.appendChild(f),i??=f}else l.elements!==void 0?Ee(l,f=>{s.unshift({prev:o,next:f,parent:a}),o=o?.nextSibling}):l.subtree!==void 0&&s.push({prev:o,next:l,parent:a})}return i}function no({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),l;if(Xe.has(o))l=Xe.get(o);else{let v=new Map;Xe.set(o,v),l=v}let a=s?new Set(l.keys()):null,f=s?new Set(Array.from(e.attributes,v=>v.name)):null,h=null,q=null,C=null;for(let v of t.attrs){let w=v[0],z=v[1];if(v.as_property)o[w]!==z&&(o[w]=z),s&&f.delete(w);else if(w.startsWith("on")){let Y=w.slice(2),zt=r(z);l.has(Y)||o.addEventListener(Y,Ke),l.set(Y,zt),s&&a.delete(Y)}else if(w.startsWith("data-lustre-on-")){let Y=w.slice(15),zt=r(io);l.has(Y)||o.addEventListener(Y,Ke),l.set(Y,zt),o.setAttribute(w,z)}else w==="class"?h=h===null?z:h+" "+z:w==="style"?q=q===null?z:q+z:w==="dangerous-unescaped-html"?C=z:(o.getAttribute(w)!==z&&o.setAttribute(w,z),(w==="value"||w==="selected")&&(o[w]=z),s&&f.delete(w))}if(h!==null&&(o.setAttribute("class",h),s&&f.delete("class")),q!==null&&(o.setAttribute("style",q),s&&f.delete("style")),s){for(let v of f)o.removeAttribute(v);for(let v of a)l.delete(v),o.removeEventListener(v,Ke)}if(t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(C!==null)return o.innerHTML=C,o;let I=o.firstChild,Ce=null,qr=null,Cr=null,Nt=t.children[Symbol.iterator]().next().value;s&&Nt!==void 0&&Nt.key!==void 0&&Nt.key!==""&&(Ce=new Set,qr=Nn(e),Cr=Nn(t));for(let v of t.children)Ee(v,w=>{w.key!==void 0&&Ce!==null?I=so(I,w,o,n,Cr,qr,Ce):(n.unshift({prev:I,next:w,parent:o}),I=I?.nextSibling)});for(;I;){let v=I.nextSibling;o.removeChild(I),I=v}return o}var Xe=new WeakMap;function Ke(e){let t=e.currentTarget;if(!Xe.has(t)){t.removeEventListener(e.type,Ke);return}let r=Xe.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,Ke);return}r.get(e.type)(e)}function io(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let l=o.split(".");for(let a=0,f=s,h=e;a<l.length;a++)a===l.length-1?f[l[a]]=h[l[a]]:(f[l[a]]??={},h=h[l[a]],f=f[l[a]]);return s},{data:n})}}function Nn(e){let t=new Map;if(e)for(let r of e.children)Ee(r,n=>{let i=n?.key||n?.getAttribute?.("data-lustre-key");i&&t.set(i,n)});return t}function so(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let a=e.nextSibling;r.removeChild(e),e=a}if(s.size===0)return Ee(t,a=>{n.unshift({prev:e,next:a,parent:r}),e=e?.nextSibling}),e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let l=s.get(t.key);if(!l&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!l&&e!==null){let a=document.createTextNode("");return r.insertBefore(a,e),n.unshift({prev:a,next:t,parent:r}),e}return!l||l===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e)}function Ee(e,t){if(e.elements!==void 0)for(let r of e.elements)Ee(r,t);else e.subtree!==void 0?Ee(e.subtree(),t):t(e)}var Lt=class e{#e=null;#r=[];#t=[];#n=!1;#o=!1;#i=null;#u=null;#s=null;static start(t,r,n,i,s){if(!Ae())return new m(new Se);let o=r instanceof HTMLElement?r:document.querySelector(r);if(!o)return new m(new jt(r));let l=new e(n(t),i,s,o);return new d(a=>l.send(a))}constructor([t,r],n,i,s=document.body,o=!1){this.#i=t,this.#u=n,this.#s=i,this.#e=s,this.#t=r.all.toArray(),this.#n=!0,this.#o=o,window.requestAnimationFrame(()=>this.#l())}send(t){switch(!0){case t instanceof W:{this.#r.push(t[0]),this.#l();return}case t instanceof ae:{this.#f();return}case t instanceof vt:{this.#a(t[0]);return}default:return}}emit(t,r){this.#e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r,composed:!0}))}#l(){if(this.#c(),this.#n){let t=this.#s(this.#i),r=n=>i=>{let s=n(i);s instanceof d&&this.send(new W(s[0]))};this.#n=!1,this.#e=br(this.#e,t,r,this.#o)}}#c(t=0){for(;this.#r.length;){let[r,n]=this.#u(this.#i,this.#r.shift());this.#n||=this.#i!==r,this.#i=r,this.#t=this.#t.concat(n.all.toArray())}for(;this.#t.length;)this.#t.shift()(r=>this.send(new W(r)),(r,n)=>this.emit(r,n));this.#r.length&&(t<5?this.#c(++t):window.requestAnimationFrame(()=>this.#l()))}#a(t){switch(!0){case t instanceof Ot:{let r=this.#s(t[0]),n=i=>s=>{let o=i(s);o instanceof d&&this.send(new W(o[0]))};this.#r=[],this.#t=[],this.#n=!1,this.#e=br(this.#e,r,n,this.#o)}}}#f(){this.#e.remove(),this.#e=null,this.#i=null,this.#r=[],this.#t=[],this.#n=!1,this.#u=()=>{},this.#s=()=>{}}},zn=(e,t,r)=>Lt.start(r,t,e.init,e.update,e.view),Ae=()=>globalThis.window&&window.document;var Fn=e=>e.preventDefault();var kr=class extends c{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var jt=class extends c{constructor(t){super(),this.selector=t}},Se=class extends c{};function Bn(e,t,r){return new kr(e,t,r,new b)}function Mn(e,t,r){return Re(!Ae(),new m(new Se),()=>zn(e,t,r))}function T(e){return je(e)}function Pn(e,t){return $("body",e,t)}function Rn(e,t){return $("h1",e,t)}function Un(e,t){return $("h2",e,t)}function Wn(e,t){return $("nav",e,t)}function x(e,t){return $("div",e,t)}function Jn(e,t){return $("li",e,t)}function Hn(e,t){return $("p",e,t)}function Gn(e,t){return $("ul",e,t)}function Vn(e,t){return $("a",e,t)}function Yn(e,t){return $("table",e,t)}function Xn(e,t){return $("tbody",e,t)}function Et(e,t){return $("td",e,t)}function Kn(e,t){return $("th",e,t)}function Zn(e,t){return $("thead",e,t)}function vr(e,t){return $("tr",e,t)}function Te(e,t){return $("button",e,t)}function Or(e,t){return $("form",e,t)}function Ze(e){return $("input",e,u([]))}function Qe(e,t){return $("label",e,t)}function Qn(e,t){return $("option",e,u([je(t)]))}function ei(e,t){return $("select",e,t)}function At(e,t){return qn(e,t)}function fe(e){return At("click",t=>new d(e))}function ti(e){return At("keypress",t=>{let r=t,n=G("key",se)(r);return re(n,e)})}function uo(e){let t=e;return G("target",G("value",se))(t)}function Lr(e){return At("input",t=>{let r=uo(t);return re(r,e)})}function ri(e){return At("submit",t=>{let r=Fn(t);return new d(e)})}var co={handle_external_links:!1,handle_internal_links:!0},Vp=window?.location?.href;var jr=(e,t=co)=>{document.addEventListener("click",r=>{let n=ii(r.target);if(n)try{let i=new URL(n.href),s=ni(i),o=i.host!==window.location.host;return!t.handle_external_links&&o||!t.handle_internal_links&&!o?void 0:(r.preventDefault(),o||(window.history.pushState({},"",n.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",r=>{r.preventDefault();let n=new URL(window.location.href),i=ni(n);window.requestAnimationFrame(()=>{n.hash&&document.getElementById(n.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:r})=>{e(r)}),window.addEventListener("modem-replace",({detail:r})=>{e(r)})};var ii=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:ii(e.parentElement),ni=e=>new Pe(e.protocol?new y(e.protocol.slice(0,-1)):new b,new b,e.hostname?new y(e.hostname):new b,e.port?new y(Number(e.port)):new b,e.pathname,e.search?new y(e.search.slice(1)):new b,e.hash?new y(e.hash.slice(1)):new b);function si(e){return S(t=>Re(!Ae(),void 0,()=>jr(r=>{let i=e(r);return t(i)})))}var pe=class extends c{},de=class extends c{},et=class extends c{};function oi(e){let t=An(e.path);return t.hasLength(1)&&t.head==="work-items"?new de:t.hasLength(1)&&t.head==="analytics"?new et:new pe}function ui(){return new pe}var qe=class extends c{constructor(t,r,n){super(),this.hours=t,this.minutes=r,this.seconds=n}};function Er(e){let t=J(e,60),r=J(ee(e,60),60),n=ee(ee(e,60),60);return new qe(n,r,t)}function li(e){let t=(()=>{let i=e.hours;return i===0?"":j(i)+":"})(),r=(()=>{let i=e.minutes,s=e.hours;return i===0&&s===0?"":s===0?j(i)+":":dr(j(i),2,"0")+":"})(),n=(()=>{let i=e.seconds;return e.minutes===0?j(i):dr(j(i),2,"0")})();return t+r+n}var me=class extends c{constructor(t,r){super(),this.id=t,this.label=r}},St=class extends c{constructor(t,r){super(),this.time=t,this.work_item=r}},Tt=class extends c{constructor(t,r,n,i,s,o,l,a,f,h,q){super(),this.current_route=t,this.count=r,this.current_task=n,this.task_options=i,this.work_items=s,this.new_work_item_id=o,this.new_work_item_label=l,this.new_work_item_modal_open=a,this.current_timer=f,this.timer_running=h,this.records=q}};var Ar=class extends c{constructor(t,r){super(),this.count=t,this.work_items=r}};function mo(){return Vt((e,t)=>new me(e,t),G("id",se),G("label",se))}function _o(){return Vt((e,t)=>new Ar(e,t),G("count",Gt),G("work_items",Kr(mo())))}function ai(e){return On(e,_o())}function fi(e,t){window.localStorage.setItem(e,String(t))}function pi(){let e=window.localStorage.getItem("count"),t=window.localStorage.getItem("work_items");return e=e?JSON.parse(e):0,t=t?JSON.parse(t):[],JSON.stringify({count:e,work_items:t})}function di(e){return e instanceof $e?[]:[e.head].concat(di(e.tail))}function Sr(e){let t=di(e);window.localStorage.setItem("work_items",JSON.stringify(t))}function mi(e){window.setTimeout(()=>document.getElementById(e).focus(),0)}function _i(e,t,r){window.__timer=window.setInterval(r,t)}function hi(e){window.clearInterval(window.__timer)}var qt=class extends c{},Ct=class extends c{},It=class extends c{},rt=class extends c{constructor(t){super(),this[0]=t}},_e=class extends c{},he=class extends c{},nt=class extends c{constructor(t){super(),this.id=t}},it=class extends c{constructor(t){super(),this.label=t}},st=class extends c{constructor(t,r){super(),this.id=t,this.label=r}},ot=class extends c{constructor(t){super(),this.work_item=t}},ut=class extends c{constructor(t,r){super(),this.key=t,this.route=r}},lt=class extends c{},ct=class extends c{},Tr=class extends c{},tt=class extends c{constructor(t,r,n){super(),this.url=t,this.title=r,this.route=n}};function $o(e){let t=oi(e);return new rt(t)}function xo(){return x(u([]),u([Rn(u([p("text-3xl")]),u([je("Time tracker")])),Hn(u([]),u([je("A small app to track your time spent on work items.")]))]))}function $i(){return x(u([p("border-b-2 border-b-surface-0")]),u([]))}function wo(e){return x(u([p("w-full h-8 flex flex-col justify-center")]),u([Wn(u([p("w-full")]),u([Gn(u([p("flex w-full")]),F(e,r=>Jn(u([p("mx-auto")]),u([Vn(u([Cn(r.url)]),u([T(r.title)]))]))))]))]))}function go(e){let t=Te(u([p("rounded-full sm:h-4/5 h-32 aspect-square bg-green-500 hover:bg-green-600 duration-200 border-[3px] border-green-900 flex items-center justify-center"),fe(new lt)]),u([x(u([p("ml-2 border-t-[15px] border-t-transparent border-b-transparent w-0 h-0 border-b-[15px] border-l-[25px] border-white")]),u([]))])),r=Er(e.current_timer),n=r instanceof qe&&r.hours===0&&r.minutes===0?"text-3xl":r instanceof qe&&r.hours===0?"text-2xl":"text-xl",i=Te(u([p("rounded-full sm:h-4/5 h-32 aspect-square bg-red-500 hover:bg-red-600 duration-200 border-[3px] border-red-900 flex items-center justify-center"),fe(new ct)]),u([x(u([p("text-white text-semibold "+n)]),u([T(li(r))]))]));return e.timer_running?i:t}function yo(e){return x(u([p("grow")]),u([x(u([p("w-full sm:h-32 h-96 rounded-lg bg-surface-0 flex sm:flex-nowrap  flex-wrap sm:px-8 py-2 items-center justify-center")]),u([x(u([p("flex-col px-8")]),u([Or(u([p("flex flex-col gap-4 sm:w-full w-64")]),u([x(u([p("flex gap-2 sm:flex-nowrap flex-wrap justify-center")]),u([Qe(u([gr("work-item"),p("sm:min-w-32 min-w-full text-center")]),u([T("Work item")])),ei(u([wr("selected-work-item"),Q("work-item"),p("text-bg pl-2 rounded-md sm:min-w-64 min-w-full")]),(()=>{let t=e.work_items;return F(t,r=>Qn(u([Ye(r.id)]),r.label))})())])),x(u([p("flex gap-2 sm:flex-nowrap flex-wrap justify-center")]),u([Qe(u([gr("work-item"),p("sm:min-w-32 min-w-full text-center")]),u([T("Description")])),Ze(u([wr("task-description"),Q("task-description"),p("text-bg pl-2 rounded-md sm:min-w-64 min-w-full")]))]))]))])),x(u([p("sm:grow-0 sm:h-full grow flex items-center justify-center")]),u([go(e)]))]))]))}function bo(e){let t=(()=>{let n=u(["ID","Label","Action"]);return F(n,i=>Kn(u([p("w-1/3")]),u([T(i)])))})(),r=(()=>{let n=e.work_items;return pt(n,(i,s)=>{let o=J(s,2)===0?"":"bg-surface-0";return vr(u([p(o)]),u([Et(u([p("text-center")]),u([T(i.id)])),Et(u([p("text-center")]),u([T(i.label)])),Et(u([p("text-center")]),u([x(u([p("")]),u([Te(u([p("px-4 py-1 my-3 hover:bg-red-700 bg-red-500 text-white duration-300 rounded-full"),fe(new ot(i))]),u([T("Delete")]))]))]))]))})})();return Yn(u([p("w-full table-auto rounded-md")]),u([Zn(u([p("")]),u([vr(u([p("bg-surface-2 text-white")]),t)])),Xn(u([]),r)]))}function ko(e){let t=e.new_work_item_modal_open?["block",""]:["hidden","scale-75"],r=t[0],n=t[1],i=x(u([Q("modal-add-work-item"),p("max-w-5xl w-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-surface-1 opacity-100 rounded-lg flex flex-col gap-4 p-4 z-999 duration-2000 transition "+n)]),u([Un(u([p("text-xl font-semibold")]),u([T("Add new work item")])),Or(u([p("flex flex-col gap-4"),ri(new st(e.new_work_item_id,e.new_work_item_label))]),u([x(u([p("flex justify-center gap-4")]),u([Qe(u([p("mb-1 mt-1 min-w-32")]),u([T("ID:")])),Ze(u([Q("id-work-item"),Ve("text"),p("text-bg rounded-md grow py-1 px-4"),Ye(e.new_work_item_id),Lr(o=>new nt(o))]))])),x(u([p("flex justify-center gap-4")]),u([Qe(u([p("mb-1 mt-1 min-w-32")]),u([T("Label:")])),Ze(u([Q("label-work-item"),Ve("text"),p("text-bg rounded-md grow px-4 py-1"),Ye(e.new_work_item_label),Lr(o=>new it(o))]))])),x(u([p("flex w-full gap-4")]),u([Ze(u([p("h-8 rounded-lg bg-teal-300 text-bg w-1/2 cursor-pointer"),Ve("submit"),Ye("Save")])),Te(u([p("h-8 rounded-lg bg-red-400 text-bg w-1/2"),fe(new he),Ve("button")]),u([T("Cancel")]))]))]))])),s=x(u([Q("modal-bg"),p("bg-bg opacity-90 w-screen h-screen z-990"),fe(new he)]),u([]));return x(u([Q("modal-add-work-item-container"),p("absolute top-0 left-0 w-screen h-screen overflow-hidden z-1 flex flex-col "+r)]),u([x(u([p("w-full h-full relative")]),u([s,i]))]))}function vo(e){return x(u([p("flex flex-col gap-4")]),u([bo(e),Te(u([p("bg-catp-green w-full h-8 rounded-lg text-bg"),fe(new _e)]),u([T("Add new item")]))]))}function Oo(e){return x(u([]),u([]))}function Lo(e){let t=u([new tt("/","Tracker",new pe),new tt("/work-items","Work Items",new de),new tt("/analytics","Analytics",new et)]),r=(()=>{let n=e.current_route;return n instanceof pe?yo(e):n instanceof de?vo(e):Oo(e)})();return Pn(u([ti(n=>new ut(n,e.current_route))]),u([x(u([p("text-white container p-4 mx-auto max-w-5xl sm:mt-8 mt-4 flex flex-col gap-4")]),u([xo(),$i(),wo(t),$i(),r,ko(e)]))]))}function jo(e){let t=j(e.count);return fi("count",t)}function Eo(e){let t=ai(pi());if(!t.isOk())throw ft("assignment_no_match","timetracker_gleam",48,"init","Assignment pattern did not match",{value:t});let r=t[0],n=Sn(u([si($o)]));return[new Tt(ui(),r.count,"",u([]),r.work_items,"","",!1,0,!1,u([])),n]}function Ao(e,t){return S(r=>_i("__timer",e,()=>r(t)))}function So(e,t){let r=(()=>{if(t instanceof qt)return e.withFields({count:e.count+1});if(t instanceof Ct)return e.count>1?e.withFields({count:e.count-1}):e.withFields({count:0});if(t instanceof It)return e.withFields({count:0});if(t instanceof rt){let s=t[0];return Ln("On route change triggered"),e.withFields({current_route:s})}else{if(t instanceof _e)return e.withFields({new_work_item_modal_open:!0});if(t instanceof he)return e.withFields({new_work_item_modal_open:!1,new_work_item_id:"",new_work_item_label:""});if(t instanceof nt){let s=t.id;return e.withFields({new_work_item_id:s})}else if(t instanceof it){let s=t.label;return e.withFields({new_work_item_label:s})}else if(t instanceof st){let s=t.id,o=t.label,l=new me(s,o);return e.withFields({work_items:H(e.work_items,u([l]))})}else if(t instanceof ot){let s=t.work_item;return e.withFields({work_items:(()=>{let o=e.work_items;return Dr(o,l=>l.id!==s.id)})()})}else if(t instanceof ut){let s=t.key,o=t.route;return e}else return t instanceof lt?e.withFields({current_timer:0,timer_running:!0}):t instanceof ct?e.withFields({timer_running:!1,records:H(e.records,u([new St(Er(e.current_timer),new me("Test","Test"))]))}):e.withFields({current_timer:e.current_timer+1})}})(),n=s=>jo(r),i=(()=>{if(t instanceof qt)return S(n);if(t instanceof Ct)return S(n);if(t instanceof It)return S(n);if(t instanceof rt)return We();if(t instanceof _e)return S(s=>mi("id-work-item"));if(t instanceof he)return S(s=>{});if(t instanceof nt){let s=t.id;return We()}else if(t instanceof it){let s=t.label;return We()}else if(t instanceof st){let s=t.id,o=t.label;return S(l=>(Sr(r.work_items),l(new he)))}else if(t instanceof ot){let s=t.work_item;return S(o=>Sr(r.work_items))}else if(t instanceof ut){let s=t.key,o=t.route;return S(l=>{if(o instanceof de)return s==="N"?l(new _e):s==="n"?l(new _e):void 0})}else return t instanceof lt?Ao(1e3,new Tr):t instanceof ct?S(s=>(jn(r.records),hi("__timer"))):S(s=>{})})();return[r,i]}function xi(){let e=Bn(Eo,So,Lo),t=Mn(e,"#app",void 0);if(!t.isOk())throw ft("assignment_no_match","timetracker_gleam",549,"main","Assignment pattern did not match",{value:t})}xi();
