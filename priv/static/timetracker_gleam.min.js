var a=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},I=class{static fromArray(t,r){let n=r||new ve;for(let i=t.length-1;i>=0;--i)n=new Ke(t[i],n);return n}[Symbol.iterator](){return new nr(this)}toArray(){return[...this]}atLeastLength(t){for(let r of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let r of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let r of this)t++;return t}};function $(e,t){return new Ke(e,t)}function u(e,t){return I.fromArray(e,t)}var nr=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof ve)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},ve=class extends I{},Ke=class extends I{constructor(t,r){super(),this.head=t,this.tail=r}},yt=class e{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatFromSlice(t,r,n){return Pi(this.buffer,t,r,n)}intFromSlice(t,r,n,i){return Ri(this.buffer,t,r,n,i)}binaryFromSlice(t,r){return new e(this.buffer.slice(t,r))}sliceAfter(t){return new e(this.buffer.slice(t))}};function Ri(e,t,r,n,i){let s=0;if(n)for(let o=t;o<r;o++)s=s*256+e[o];else for(let o=r-1;o>=t;o--)s=s*256+e[o];if(i){let l=2**((r-t)*8-1);s>=l&&(s-=l*2)}return s}function Pi(e,t,r,n){let i=new DataView(e.buffer),s=r-t;if(s===8)return i.getFloat64(t,!n);if(s===4)return i.getFloat32(t,!n);{let o=`Sized floats must be 32-bit or 64-bit on JavaScript, got size of ${s*8} bits`;throw new globalThis.Error(o)}}var Oe=class e extends a{static isResult(t){return t instanceof e}},d=class extends Oe{constructor(t){super(),this[0]=t}isOk(){return!0}},m=class extends Oe{constructor(t){super(),this[0]=t}isOk(){return!1}};function g(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!pn(n)||!pn(i)||!Ki(n,i)||Ji(n,i)||Wi(n,i)||Hi(n,i)||Gi(n,i)||Vi(n,i)||Yi(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[l,c]=Ui(n);for(let f of l(n))r.push(c(n,f),c(i,f))}return!0}function Ui(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Ji(e,t){return e instanceof Date&&(e>t||e<t)}function Wi(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Hi(e,t){return Array.isArray(e)&&e.length!==t.length}function Gi(e,t){return e instanceof Map&&e.size!==t.size}function Vi(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function Yi(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function pn(e){return typeof e=="object"&&e!==null}function Ki(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function P(e,t){return t===0?0:e%t}function le(e,t){return Math.trunc(dn(e,t))}function dn(e,t){return t===0?0:e/t}function Xe(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.fn=n;for(let l in s)o[l]=s[l];return o}var O=class extends a{constructor(t){super(),this[0]=t}},L=class extends a{};function ir(e,t){if(e instanceof O){let r=e[0];return new d(r)}else return new m(t)}function F(e){return hn(e)}function es(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=$(i,n)}}}function A(e){return es(e,u([]))}function ts(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head,l=n.tail,c=i(o)?$(o,s):s;e=l,t=i,r=c}}}function wn(e,t){return ts(e,t,u([]))}function rs(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head;e=n.tail,t=i,r=$(i(o),s)}}}function y(e,t){return rs(e,t,u([]))}function ns(e,t,r,n){for(;;){let i=e,s=t,o=r,l=n;if(i.hasLength(0))return A(l);{let c=i.head,f=i.tail,_=$(s(c,o),l);e=f,t=s,r=o+1,n=_}}}function Ae(e,t){return ns(e,t,0,u([]))}function is(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return new d(A(s));{let o=n.head,l=n.tail,c=i(o);if(c.isOk()){let f=c[0];e=l,t=i,r=$(f,s)}else{let f=c[0];return new m(f)}}}}function ur(e,t){return is(e,t,u([]))}function gn(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return u([]);e=r.tail,t=n-1}}function ss(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return A(s);if(n.hasLength(0))return A(s);{let l=n.head;e=n.tail,t=i-1,r=$(l,s)}}}function lr(e,t){return ss(e,t,u([]))}function os(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=$(i,n)}}}function U(e,t){return os(A(e),t)}function us(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=$(i,n)}}}function ls(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return A(n);{let i=r.head;e=r.tail,t=us(i,n)}}}function ar(e){return ls(e,u([]))}function Se(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function ce(e,t){if(e.isOk()){let r=e[0];return new d(t(r))}else{let r=e[0];return new m(r)}}function kt(e,t){if(e.isOk()){let r=e[0];return new d(r)}else{let r=e[0];return new m(t(r))}}function Z(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new m(r)}}function fr(e,t){return Z(e,t)}function Qe(e){return pr(e)}function vt(e){return e}function fe(e){return e}function kn(e,t){return vn(e,t)}var pe=class extends a{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}};function dr(e){return _r(e)}function qe(e){return Tn(e)}function ds(e){return qn(e)}function On(e){return t=>{if(e.hasLength(0))return new m(u([new pe("another type",dr(t),u([]))]));{let r=e.head,n=e.tail,i=r(t);if(i.isOk()){let s=i[0];return new d(s)}else return On(n)(t)}}}function tt(e){return e.isOk()?u([]):e[0]}function Ln(e,t){let r=t,n=On(u([Y,s=>ce(qe(s),F)])),i=(()=>{let s=n(r);if(s.isOk())return s[0];{let o=u(["<",dr(r),">"]),l=Qe(o);return fe(l)}})();return e.withFields({path:$(i,e.path)})}function mr(e){return t=>Z(ds(t),r=>{let i=ur(r,e);return jn(i,s=>Ln(s,"*"))})}function jn(e,t){return kt(e,r=>y(r,t))}function Y(e){return Sn(e)}function T(e,t){return r=>{let n=new pe("field","nothing",u([]));return Z(Cn(r,e),i=>{let o=ir(i,u([n])),l=Z(o,t);return jn(l,c=>Ln(c,e))})}}function En(e,t,r){return n=>{let i=t(n),s=r(n);if(i.isOk()&&s.isOk()){let o=i[0],l=s[0];return new d(e(o,l))}else{let o=i,l=s;return new m(ar(u([tt(o),tt(l)])))}}}function Lt(e,t,r,n){return i=>{let s=t(i),o=r(i),l=n(i);if(s.isOk()&&o.isOk()&&l.isOk()){let c=s[0],f=o[0],_=l[0];return new d(e(c,f,_))}else{let c=s,f=o,_=l;return new m(ar(u([tt(c),tt(f),tt(_)])))}}}var In=new WeakMap,hr=new DataView(new ArrayBuffer(8)),$r=0;function xr(e){let t=In.get(e);if(t!==void 0)return t;let r=$r++;return $r===2147483647&&($r=0),In.set(e,r),r}function wr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function yr(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Nn(e){hr.setFloat64(0,e);let t=hr.getInt32(0),r=hr.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function ms(e){return yr(e.toString())}function _s(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return xr(e);if(e instanceof Date)return Nn(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+M(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+M(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+wr(M(n),M(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+wr(M(o),yr(s))|0}}return r}function M(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Nn(e);case"string":return yr(e);case"bigint":return ms(e);case"object":return _s(e);case"symbol":return xr(e);case"function":return xr(e);default:return 0}}var W=5,br=Math.pow(2,W),hs=br-1,$s=br/2,xs=br/4,q=0,J=1,z=2,me=3,kr={type:z,bitmap:0,array:[]};function rt(e,t){return e>>>t&hs}function Et(e,t){return 1<<rt(e,t)}function ws(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function vr(e,t){return ws(e&t-1)}function R(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function gs(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function gr(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Fn(e,t,r,n,i,s){let o=M(t);if(o===n)return{type:me,hash:o,array:[{type:q,k:t,v:r},{type:q,k:i,v:s}]};let l={val:!1};return nt(Or(kr,e,o,t,r,l),e,n,i,s,l)}function nt(e,t,r,n,i,s){switch(e.type){case J:return ys(e,t,r,n,i,s);case z:return Or(e,t,r,n,i,s);case me:return bs(e,t,r,n,i,s)}}function ys(e,t,r,n,i,s){let o=rt(r,t),l=e.array[o];if(l===void 0)return s.val=!0,{type:J,size:e.size+1,array:R(e.array,o,{type:q,k:n,v:i})};if(l.type===q)return g(n,l.k)?i===l.v?e:{type:J,size:e.size,array:R(e.array,o,{type:q,k:n,v:i})}:(s.val=!0,{type:J,size:e.size,array:R(e.array,o,Fn(t+W,l.k,l.v,r,n,i))});let c=nt(l,t+W,r,n,i,s);return c===l?e:{type:J,size:e.size,array:R(e.array,o,c)}}function Or(e,t,r,n,i,s){let o=Et(r,t),l=vr(e.bitmap,o);if(e.bitmap&o){let c=e.array[l];if(c.type!==q){let _=nt(c,t+W,r,n,i,s);return _===c?e:{type:z,bitmap:e.bitmap,array:R(e.array,l,_)}}let f=c.k;return g(n,f)?i===c.v?e:{type:z,bitmap:e.bitmap,array:R(e.array,l,{type:q,k:n,v:i})}:(s.val=!0,{type:z,bitmap:e.bitmap,array:R(e.array,l,Fn(t+W,f,c.v,r,n,i))})}else{let c=e.array.length;if(c>=$s){let f=new Array(32),_=rt(r,t);f[_]=Or(kr,t+W,r,n,i,s);let v=0,S=e.bitmap;for(let N=0;N<32;N++){if(S&1){let Ye=e.array[v++];f[N]=Ye}S=S>>>1}return{type:J,size:c+1,array:f}}else{let f=gs(e.array,l,{type:q,k:n,v:i});return s.val=!0,{type:z,bitmap:e.bitmap|o,array:f}}}}function bs(e,t,r,n,i,s){if(r===e.hash){let o=Lr(e,n);if(o!==-1)return e.array[o].v===i?e:{type:me,hash:r,array:R(e.array,o,{type:q,k:n,v:i})};let l=e.array.length;return s.val=!0,{type:me,hash:r,array:R(e.array,l,{type:q,k:n,v:i})}}return nt({type:z,bitmap:Et(e.hash,t),array:[e]},t,r,n,i,s)}function Lr(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(g(t,e.array[n].k))return n;return-1}function jt(e,t,r,n){switch(e.type){case J:return ks(e,t,r,n);case z:return vs(e,t,r,n);case me:return Os(e,n)}}function ks(e,t,r,n){let i=rt(r,t),s=e.array[i];if(s!==void 0){if(s.type!==q)return jt(s,t+W,r,n);if(g(n,s.k))return s}}function vs(e,t,r,n){let i=Et(r,t);if(!(e.bitmap&i))return;let s=vr(e.bitmap,i),o=e.array[s];if(o.type!==q)return jt(o,t+W,r,n);if(g(n,o.k))return o}function Os(e,t){let r=Lr(e,t);if(!(r<0))return e.array[r]}function jr(e,t,r,n){switch(e.type){case J:return Ls(e,t,r,n);case z:return js(e,t,r,n);case me:return Es(e,n)}}function Ls(e,t,r,n){let i=rt(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===q){if(!g(s.k,n))return e}else if(o=jr(s,t+W,r,n),o===s)return e;if(o===void 0){if(e.size<=xs){let l=e.array,c=new Array(e.size-1),f=0,_=0,v=0;for(;f<i;){let S=l[f];S!==void 0&&(c[_]=S,v|=1<<f,++_),++f}for(++f;f<l.length;){let S=l[f];S!==void 0&&(c[_]=S,v|=1<<f,++_),++f}return{type:z,bitmap:v,array:c}}return{type:J,size:e.size-1,array:R(e.array,i,o)}}return{type:J,size:e.size,array:R(e.array,i,o)}}function js(e,t,r,n){let i=Et(r,t);if(!(e.bitmap&i))return e;let s=vr(e.bitmap,i),o=e.array[s];if(o.type!==q){let l=jr(o,t+W,r,n);return l===o?e:l!==void 0?{type:z,bitmap:e.bitmap,array:R(e.array,s,l)}:e.bitmap===i?void 0:{type:z,bitmap:e.bitmap^i,array:gr(e.array,s)}}return g(n,o.k)?e.bitmap===i?void 0:{type:z,bitmap:e.bitmap^i,array:gr(e.array,s)}:e}function Es(e,t){let r=Lr(e,t);if(r<0)return e;if(e.array.length!==1)return{type:me,hash:e.hash,array:gr(e.array,r)}}function zn(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===q){t(s.v,s.k);continue}zn(s,t)}}}var Ce=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=jt(this.root,0,M(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?kr:this.root,s=nt(i,0,M(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=jr(this.root,0,M(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:jt(this.root,0,M(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){zn(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+wr(M(r),M(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let r=!0;return this.forEach((n,i)=>{r=r&&g(t.get(i,!n),n)}),r}};var As=void 0,Bn={};function hn(e){return e.toString()}function Mn(e){if(e==="")return 0;let t=Rn(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function Ot(e){let t=Rn(e);return t?I.fromArray(Array.from(t).map(r=>r.segment)):I.fromArray(e.match(/./gsu))}function Rn(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function vn(e,t){return I.fromArray(e.split(t))}function pr(e){let t="";for(let r of e)t=t+r;return t}var Pn=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),xl=new RegExp(`^([${Pn}]*)`,"g"),wl=new RegExp(`([${Pn}]*)$`,"g");function Un(e,t){let r=e.get(t,Bn);return r===Bn?new m(As):new d(r)}function _r(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof Oe)return"Result";if(e instanceof I)return"List";if(e instanceof yt)return"BitArray";if(e instanceof Ce)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function At(e,t){return Ss(e,_r(t))}function Ss(e,t){return new m(I.fromArray([new pe(e,t,I.fromArray([]))]))}function Sn(e){return typeof e=="string"?new d(e):At("String",e)}function Tn(e){return Number.isInteger(e)?new d(e):At("Int",e)}function qn(e){return Array.isArray(e)?new d(I.fromArray(e)):e instanceof I?new d(e):At("List",e)}function Cn(e,t){let r=()=>At("Dict",e);if(e instanceof Ce||e instanceof WeakMap||e instanceof Map){let n=Un(e,t);return new d(n.isOk()?new O(n[0]):new L)}else return e===null?r():Object.getPrototypeOf(e)==Object.prototype?Dn(e,t,()=>new d(new L)):Dn(e,t,r)}function Dn(e,t,r){try{return t in e?new d(new O(e[t])):r()}catch{return r()}}var _e=class extends a{},ee=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},Ie=class extends a{constructor(t){super(),this.continuation=t}},St=class extends a{constructor(t,r){super(),this.element=t,this.accumulator=r}};function Cs(){return new _e}function Jn(e,t){return()=>{let r=t(e);if(r instanceof St){let n=r.element,i=r.accumulator;return new ee(n,Jn(i,t))}else return new _e}}function Is(e,t){let n=Jn(e,t);return new Ie(n)}function Ns(e){return Is(void 0,t=>new St(e(),void 0))}function Wn(e){return Ns(()=>e)}function Fs(e,t,r){for(;;){let n=e,i=t,s=r,o=n();if(o instanceof ee){let l=o[0];e=o[1],t=i,r=i(s,l)}else return s}}function zs(e,t,r){let n=e.continuation;return Fs(n,r,t)}function Hn(e){let r=zs(e,u([]),(n,i)=>$(i,n));return A(r)}function Gn(e,t){return()=>{if(t>0){let n=e();if(n instanceof _e)return new _e;{let i=n[0],s=n[1];return new ee(i,Gn(s,t-1))}}else return new _e}}function Vn(e,t){let r=e.continuation,n=Gn(r,t);return new Ie(n)}function Yn(e,t){let r=e();if(r instanceof ee){let n=r[0],i=r[1];return new ee(n,()=>Yn(i,t))}else return t()}function Er(e,t){let r=()=>Yn(e.continuation,t.continuation);return new Ie(r)}function Bs(e){let t=()=>new ee(e(),Cs);return new Ie(t)}function Ar(e){return Bs(()=>e)}function Sr(e){return Mn(e)}function Tr(e){let r=Qe(e);return fe(r)}function Kn(e,t,r){let i=Ot(e),s=gn(i,t),o=lr(s,r);return Tr(o)}function Rs(e,t,r){if(r<0)return"";if(t<0){let s=Sr(e)+t;return s<0?"":Kn(e,s,r)}else return Kn(e,t,r)}function Tt(e,t){if(t==="")return Ot(e);{let n=vt(e),i=kn(n,t);return y(i,fe)}}function Ps(e,t){let r=Sr(t),n=le(e,r),i=P(e,r),s=Wn(t),o=Vn(s,n);return Er(o,Ar(Rs(t,0,i)))}function qr(e,t,r){let n=Sr(e),i=t-n,s=Ps(i,r),o=Er(s,Ar(e)),l=Hn(o);return Tr(l)}var it=class extends a{constructor(t,r,n,i,s,o,l){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=l}};function Js(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return A(n);{let i=r.head,s=r.tail,o=i===""||i==="."?n:i===".."&&n.hasLength(0)?u([]):i===".."&&n.atLeastLength(1)?n.tail:$(i,n);e=s,t=o}}}function Ws(e){return Js(e,u([]))}function Qn(e){return Ws(Tt(e,"/"))}function st(e,t,r){return e?t:r()}function ei(e){try{let t=JSON.parse(e);return new d(t)}catch(t){return new m(Vs(t,e))}}function Vs(e,t){return Ys(e)?new Ct:Ks(e,t)}function Ys(e){return/((unexpected (end|eof))|(end of data)|(unterminated string)|(json( parse error|\.parse)\: expected '(\:|\}|\])'))/i.test(e.message)}function Ks(e,t){let r=[Xs,Zs,eo,Qs];for(let n of r){let i=n(e,t);if(i)return i}return new te("",0)}function Xs(e){let r=/unexpected token '(.)', ".+" is not valid JSON/i.exec(e.message);if(!r)return null;let n=qt(r[1]);return new te(n,-1)}function Zs(e){let r=/unexpected token (.) in JSON at position (\d+)/i.exec(e.message);if(!r)return null;let n=qt(r[1]),i=Number(r[2]);return new te(n,i)}function Qs(e,t){let n=/(unexpected character|expected .*) at line (\d+) column (\d+)/i.exec(e.message);if(!n)return null;let i=Number(n[2]),s=Number(n[3]),o=to(i,s,t),l=qt(t[o]);return new te(l,o)}function eo(e){let r=/unexpected (identifier|token) "(.)"/i.exec(e.message);if(!r)return null;let n=qt(r[2]);return new te(n,0)}function qt(e){return"0x"+e.charCodeAt(0).toString(16).toUpperCase()}function to(e,t,r){if(e===1)return t-1;let n=1,i=0;return r.split("").find((s,o)=>(s===`
`&&(n+=1),n===e?(i=o+t,!0):!1)),i}var Ct=class extends a{},te=class extends a{constructor(t,r){super(),this.byte=t,this.position=r}};var Ir=class extends a{constructor(t){super(),this[0]=t}};function no(e,t){return fr(ei(e),r=>{let n=t(r);return kt(n,i=>new Ir(i))})}function ti(e,t){return no(e,t)}var Ne=class extends a{constructor(t){super(),this.all=t}};function B(e){return new Ne(u([(t,r)=>e(t)]))}function C(){return new Ne(u([]))}function It(e){return new Ne(Se(e,u([]),(t,r)=>{let n=r.all;return U(t,n)}))}function Nt(e,t){return new Ne(y(e.all,r=>(n,i)=>r(s=>n(t(s)),i)))}var $e=class extends a{constructor(t){super(),this.content=t}},b=class extends a{constructor(t,r,n,i,s,o,l){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=l}},re=class extends a{constructor(t){super(),this.subtree=t}},ot=class extends a{constructor(t,r){super(),this.elements=t,this.key=r}},ne=class extends a{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},Fe=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};function xe(e,t){return new ne(e,t,!1)}function co(e,t){return new ne(e,t,!0)}function ni(e,t){return new Fe("on"+e,t)}function ii(e,t){if(e instanceof ne){let r=e[0],n=e[1],i=e.as_property;return new ne(r,n,i)}else{let r=e[0],n=e[1];return new Fe(r,i=>ce(n(i),t))}}function p(e){return xe("class",e)}function K(e){return xe("id",e)}function ut(e){return xe("type",e)}function ie(e){return xe("value",e)}function zr(e){return co("disabled",e)}function Br(e){return xe("name",e)}function Dr(e){return xe("for",e)}function si(e){return xe("href",e)}function x(e,t,r){return e==="area"?new b("","",e,t,u([]),!1,!0):e==="base"?new b("","",e,t,u([]),!1,!0):e==="br"?new b("","",e,t,u([]),!1,!0):e==="col"?new b("","",e,t,u([]),!1,!0):e==="embed"?new b("","",e,t,u([]),!1,!0):e==="hr"?new b("","",e,t,u([]),!1,!0):e==="img"?new b("","",e,t,u([]),!1,!0):e==="input"?new b("","",e,t,u([]),!1,!0):e==="link"?new b("","",e,t,u([]),!1,!0):e==="meta"?new b("","",e,t,u([]),!1,!0):e==="param"?new b("","",e,t,u([]),!1,!0):e==="source"?new b("","",e,t,u([]),!1,!0):e==="track"?new b("","",e,t,u([]),!1,!0):e==="wbr"?new b("","",e,t,u([]),!1,!0):new b("","",e,t,r,!1,!1)}function ze(e){return new $e(e)}function ge(e,t){if(e instanceof $e){let r=e.content;return new $e(r)}else if(e instanceof re){let r=e.subtree;return new re(()=>ge(r(),t))}else if(e instanceof b){let r=e.key,n=e.namespace,i=e.tag,s=e.attrs,o=e.children,l=e.self_closing,c=e.void;return new re(()=>new b(r,n,i,y(s,f=>ii(f,t)),y(o,f=>ge(f,t)),l,c))}else{let r=e.elements,n=e.key;return new re(()=>new ot(y(r,i=>ge(i,t)),n))}}var Ft=class extends a{constructor(t){super(),this[0]=t}},H=class extends a{constructor(t){super(),this[0]=t}};var ye=class extends a{};var zt=class extends a{constructor(t){super(),this[0]=t}};function Rr(e,t,r,n=!1){let i,s=[{prev:e,next:t,parent:e.parentNode}];for(;s.length;){let{prev:o,next:l,parent:c}=s.pop();if(l.subtree!==void 0&&(l=l.subtree()),l.content!==void 0)if(o)if(o.nodeType===Node.TEXT_NODE)o.textContent!==l.content&&(o.textContent=l.content),i??=o;else{let f=document.createTextNode(l.content);c.replaceChild(f,o),i??=f}else{let f=document.createTextNode(l.content);c.appendChild(f),i??=f}else if(l.tag!==void 0){let f=$o({prev:o,next:l,dispatch:r,stack:s,isComponent:n});o?o!==f&&c.replaceChild(f,o):c.appendChild(f),i??=f}else l.elements!==void 0?Be(l,f=>{s.unshift({prev:o,next:f,parent:c}),o=o?.nextSibling}):l.subtree!==void 0&&s.push({prev:o,next:l,parent:c})}return i}function $o({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),l;if(lt.has(o))l=lt.get(o);else{let E=new Map;lt.set(o,E),l=E}let c=s?new Set(l.keys()):null,f=s?new Set(Array.from(e.attributes,E=>E.name)):null,_=null,v=null,S=null;for(let E of t.attrs){let w=E[0],D=E[1];if(E.as_property)o[w]!==D&&(o[w]=D),s&&f.delete(w);else if(w.startsWith("on")){let X=w.slice(2),rr=r(D);l.has(X)||o.addEventListener(X,at),l.set(X,rr),s&&c.delete(X)}else if(w.startsWith("data-lustre-on-")){let X=w.slice(15),rr=r(xo);l.has(X)||o.addEventListener(X,at),l.set(X,rr),o.setAttribute(w,D)}else w==="class"?_=_===null?D:_+" "+D:w==="style"?v=v===null?D:v+D:w==="dangerous-unescaped-html"?S=D:(o.getAttribute(w)!==D&&o.setAttribute(w,D),(w==="value"||w==="selected")&&(o[w]=D),s&&f.delete(w))}if(_!==null&&(o.setAttribute("class",_),s&&f.delete("class")),v!==null&&(o.setAttribute("style",v),s&&f.delete("style")),s){for(let E of f)o.removeAttribute(E);for(let E of c)l.delete(E),o.removeEventListener(E,at)}if(t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(S!==null)return o.innerHTML=S,o;let N=o.firstChild,Ye=null,cn=null,fn=null,tr=t.children[Symbol.iterator]().next().value;s&&tr!==void 0&&tr.key!==void 0&&tr.key!==""&&(Ye=new Set,cn=oi(e),fn=oi(t));for(let E of t.children)Be(E,w=>{w.key!==void 0&&Ye!==null?N=wo(N,w,o,n,fn,cn,Ye):(n.unshift({prev:N,next:w,parent:o}),N=N?.nextSibling)});for(;N;){let E=N.nextSibling;o.removeChild(N),N=E}return o}var lt=new WeakMap;function at(e){let t=e.currentTarget;if(!lt.has(t)){t.removeEventListener(e.type,at);return}let r=lt.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,at);return}r.get(e.type)(e)}function xo(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let l=o.split(".");for(let c=0,f=s,_=e;c<l.length;c++)c===l.length-1?f[l[c]]=_[l[c]]:(f[l[c]]??={},_=_[l[c]],f=f[l[c]]);return s},{data:n})}}function oi(e){let t=new Map;if(e)for(let r of e.children)Be(r,n=>{let i=n?.key||n?.getAttribute?.("data-lustre-key");i&&t.set(i,n)});return t}function wo(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let c=e.nextSibling;r.removeChild(e),e=c}if(s.size===0)return Be(t,c=>{n.unshift({prev:e,next:c,parent:r}),e=e?.nextSibling}),e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let l=s.get(t.key);if(!l&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!l&&e!==null){let c=document.createTextNode("");return r.insertBefore(c,e),n.unshift({prev:c,next:t,parent:r}),e}return!l||l===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e)}function Be(e,t){if(e.elements!==void 0)for(let r of e.elements)Be(r,t);else e.subtree!==void 0?Be(e.subtree(),t):t(e)}var Bt=class e{#e=null;#r=[];#t=[];#n=!1;#o=!1;#i=null;#u=null;#s=null;static start(t,r,n,i,s){if(!De())return new m(new Me);let o=r instanceof HTMLElement?r:document.querySelector(r);if(!o)return new m(new Dt(r));let l=new e(n(t),i,s,o);return new d(c=>l.send(c))}constructor([t,r],n,i,s=document.body,o=!1){this.#i=t,this.#u=n,this.#s=i,this.#e=s,this.#t=r.all.toArray(),this.#n=!0,this.#o=o,window.requestAnimationFrame(()=>this.#l())}send(t){switch(!0){case t instanceof H:{this.#r.push(t[0]),this.#l();return}case t instanceof ye:{this.#f();return}case t instanceof Ft:{this.#c(t[0]);return}default:return}}emit(t,r){this.#e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:r,composed:!0}))}#l(){if(this.#a(),this.#n){let t=this.#s(this.#i),r=n=>i=>{let s=n(i);s instanceof d&&this.send(new H(s[0]))};this.#n=!1,this.#e=Rr(this.#e,t,r,this.#o)}}#a(t=0){for(;this.#r.length;){let[r,n]=this.#u(this.#i,this.#r.shift());this.#n||=this.#i!==r,this.#i=r,this.#t=this.#t.concat(n.all.toArray())}for(;this.#t.length;)this.#t.shift()(r=>this.send(new H(r)),(r,n)=>this.emit(r,n));this.#r.length&&(t<5?this.#a(++t):window.requestAnimationFrame(()=>this.#l()))}#c(t){switch(!0){case t instanceof zt:{let r=this.#s(t[0]),n=i=>s=>{let o=i(s);o instanceof d&&this.send(new H(o[0]))};this.#r=[],this.#t=[],this.#n=!1,this.#e=Rr(this.#e,r,n,this.#o)}}}#f(){this.#e.remove(),this.#e=null,this.#i=null,this.#r=[],this.#t=[],this.#n=!1,this.#u=()=>{},this.#s=()=>{}}},ui=(e,t,r)=>Bt.start(r,t,e.init,e.update,e.view),De=()=>globalThis.window&&window.document;var li=e=>e.preventDefault();var Pr=class extends a{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var Dt=class extends a{constructor(t){super(),this.selector=t}},Me=class extends a{};function ai(e,t,r){return new Pr(e,t,r,new L)}function ci(e,t,r){return st(!De(),new m(new Me),()=>ui(e,t,r))}function k(e){return ze(e)}function pi(e,t){return x("h1",e,t)}function di(e,t){return x("h2",e,t)}function mi(e,t){return x("nav",e,t)}function h(e,t){return x("div",e,t)}function _i(e,t){return x("li",e,t)}function hi(e,t){return x("p",e,t)}function $i(e,t){return x("ul",e,t)}function xi(e,t){return x("a",e,t)}function Mt(e,t){return x("table",e,t)}function Rt(e,t){return x("tbody",e,t)}function se(e,t){return x("td",e,t)}function Pt(e,t){return x("th",e,t)}function Ut(e,t){return x("thead",e,t)}function Re(e,t){return x("tr",e,t)}function be(e,t){return x("button",e,t)}function Jt(e,t){return x("form",e,t)}function Pe(e){return x("input",e,u([]))}function Ue(e,t){return x("label",e,t)}function wi(e,t){return x("option",e,u([ze(t)]))}function gi(e,t){return x("select",e,t)}var go={handle_external_links:!1,handle_internal_links:!0},Xp=window?.location?.href;var Ur=(e,t=go)=>{document.addEventListener("click",r=>{let n=bi(r.target);if(n)try{let i=new URL(n.href),s=yi(i),o=i.host!==window.location.host;return!t.handle_external_links&&o||!t.handle_internal_links&&!o?void 0:(r.preventDefault(),o||(window.history.pushState({},"",n.href),window.requestAnimationFrame(()=>{i.hash&&document.getElementById(i.hash.slice(1))?.scrollIntoView()})),e(s))}catch{return}}),window.addEventListener("popstate",r=>{r.preventDefault();let n=new URL(window.location.href),i=yi(n);window.requestAnimationFrame(()=>{n.hash&&document.getElementById(n.hash.slice(1))?.scrollIntoView()}),e(i)}),window.addEventListener("modem-push",({detail:r})=>{e(r)}),window.addEventListener("modem-replace",({detail:r})=>{e(r)})};var bi=e=>!e||e.tagName==="BODY"?null:e.tagName==="A"?e:bi(e.parentElement),yi=e=>new it(e.protocol?new O(e.protocol.slice(0,-1)):new L,new L,e.hostname?new O(e.hostname):new L,e.port?new O(Number(e.port)):new L,e.pathname,e.search?new O(e.search.slice(1)):new L,e.hash?new O(e.hash.slice(1)):new L);function ki(e){return B(t=>st(!De(),void 0,()=>Ur(r=>{let i=e(r);return t(i)})))}function Jr(){return h(u([p("border-b-2 border-b-surface-0")]),u([]))}function vi(){return h(u([]),u([pi(u([p("text-3xl")]),u([ze("Time tracker")])),hi(u([]),u([ze("A small app to track your time spent on work items.")]))]))}function Wr(){let e=window.localStorage.getItem("count"),t=window.localStorage.getItem("work_items"),r=window.localStorage.getItem("records");e=e?JSON.parse(e):0,t=t?JSON.parse(t):[],r=r?JSON.parse(r):[];let n=JSON.stringify({count:e,work_items:t,records:r});return console.log(n),n}function Hr(e){return e instanceof ve?[]:[e.head].concat(Hr(e.tail))}function Wt(e){let t=Hr(e);window.localStorage.setItem("work_items",JSON.stringify(t))}function Gr(e){let t=Hr(e);window.localStorage.setItem("records",JSON.stringify(t))}function Vr(e){window.requestAnimationFrame(()=>{window.setTimeout(()=>document.getElementById(e).focus(),0)})}function Yr(e,t){window.__timer=window.setInterval(t,e)}function Kr(e){window.clearInterval(window.__timer)}var ke=class extends a{},ft=class extends a{},Je=class extends a{};function Oi(e){let t=Qn(e.path);return t.hasLength(1)&&t.head==="work-items"?new ft:t.hasLength(1)&&t.head==="analytics"?new Je:new ke}function Li(){return new ke}var oe=class extends a{constructor(t,r,n){super(),this.hours=t,this.minutes=r,this.seconds=n}};function Zr(e){let t=P(e,60),r=P(le(e,60),60),n=le(le(e,60),60);return new oe(n,r,t)}function Ht(e,t){let r=(()=>{let s=e.hours;return s===0&&t?"":F(s)+":"})(),n=(()=>{let s=e.minutes,o=e.hours;return s===0&&o===0&&t?"":o===0&&t?F(s)+":":qr(F(s),2,"0")+":"})(),i=(()=>{let s=e.seconds;return e.minutes===0&&t?F(s):qr(F(s),2,"0")})();return r+n+i}var pt=class extends a{constructor(t,r){super(),this.id=t,this.label=r}},dt=class extends a{constructor(t,r,n){super(),this.time=t,this.work_item_id=r,this.description=n}},en=class extends a{constructor(t,r,n){super(),this.current_route=t,this.work_items=r,this.records=n}},tn=class extends a{constructor(t,r,n){super(),this.count=t,this.work_items=r,this.records=n}};function ko(){let e=En((n,i)=>new pt(n,i),T("id",Y),T("label",Y)),t=Lt((n,i,s)=>new oe(n,i,s),T("hours",qe),T("minutes",qe),T("seconds",qe)),r=Lt((n,i,s)=>new dt(n,i,s),T("time",t),T("work_item_id",Y),T("description",Y));return Lt((n,i,s)=>new tn(n,i,s),T("count",qe),T("work_items",mr(e)),T("records",mr(r)))}function Ei(){let e=Wr(),t=ti(e,ko());if(!t.isOk())throw Xe("assignment_no_match","data/global",65,"init","Assignment pattern did not match",{value:t});let r=t[0];return new en(Li(),r.work_items,r.records)}function nn(e,t){return ni(e,t)}function ue(e){return nn("click",t=>new d(e))}function vo(e){let t=e;return T("target",T("value",Y))(t)}function We(e){return nn("input",t=>{let r=vo(t);return ce(r,e)})}function Ai(e){return nn("submit",t=>{let r=li(t);return new d(e)})}var mt=class extends a{constructor(t){super(),this.records=t}};function Ti(e){return new mt(e.records)}function qi(e,t){return[e,C()]}function Oo(e){let t=(()=>{let n=u(["Work item ID","Description","Time"]);return y(n,i=>Pt(u([p("w-1/3")]),u([k(i)])))})(),r=(()=>{let n=e.records;return Ae(n,(i,s)=>{let o=P(s,2)===0?"":"bg-surface-0";return Re(u([p(o)]),u([se(u([p("text-center")]),u([k(i.work_item_id)])),se(u([p("text-center")]),u([k(i.description)])),se(u([p("text-center")]),u([k(Ht(i.time,!1))]))]))})})();return Mt(u([p("w-full table-auto rounded-md")]),u([Ut(u([p("")]),u([Re(u([p("bg-surface-2 text-white")]),t)])),Rt(u([]),r)]))}function Ci(e){return Oo(e)}var sn=class extends a{constructor(t,r,n,i,s){super(),this.active=t,this.current_time=r,this.id=n,this.description=i,this.work_items=s}},Gt=class extends a{},Vt=class extends a{},Yt=class extends a{constructor(t){super(),this.id=t}},on=class extends a{constructor(t){super(),this.desc=t}},Kt=class extends a{},He=class extends a{constructor(t){super(),this.record=t}};function Ii(e){let t=(()=>{let r=e.work_items;return r.atLeastLength(1)?r.head.id:""})();return new sn(!1,0,t,"",e.work_items)}function Ni(e,t){if(t instanceof Kt)return[e.withFields({current_time:e.current_time+1}),C()];if(t instanceof Gt)return[e.withFields({active:!0,current_time:0}),B(r=>Yr(1e3,()=>r(new Kt)))];if(t instanceof Vt)return[e.withFields({active:!1}),B(r=>{let n=new dt(Zr(e.current_time),e.id,e.description);return Kr("__timer"),r(new He(n))})];if(t instanceof He)return[e,C()];if(t instanceof Yt){let r=t.id;return[e.withFields({id:r}),C()]}else{let r=t.desc;return[e.withFields({description:r}),C()]}}function jo(e){let t=be(u([p("rounded-full sm:h-4/5 h-32 aspect-square bg-green-500 hover:bg-green-600 duration-200 border-[3px] border-green-900 flex items-center justify-center"),ue(new Gt)]),u([h(u([p("ml-2 border-t-[15px] border-t-transparent border-b-transparent w-0 h-0 border-b-[15px] border-l-[25px] border-white")]),u([]))])),r=Zr(e.current_time),n=r instanceof oe&&r.hours===0&&r.minutes===0?"text-3xl":r instanceof oe&&r.hours===0?"text-2xl":"text-xl",i=be(u([p("rounded-full sm:h-4/5 h-32 aspect-square bg-red-500 hover:bg-red-600 duration-200 border-[3px] border-red-900 flex items-center justify-center"),ue(new Vt)]),u([h(u([p("text-white text-semibold "+n)]),u([k(Ht(r,!0))]))]));return e.active?i:t}function Fi(e){return h(u([p("grow")]),u([h(u([p("w-full sm:h-32 h-96 rounded-lg bg-surface-0 flex sm:flex-nowrap  flex-wrap sm:px-8 py-2 items-center justify-center")]),u([h(u([p("flex-col px-8")]),u([Jt(u([p("flex flex-col gap-4 sm:w-full w-64")]),u([h(u([p("flex gap-2 sm:flex-nowrap flex-wrap justify-center")]),u([Ue(u([Dr("work-item"),p("sm:min-w-32 min-w-full text-center")]),u([k("Work item")])),gi(u([Br("selected-work-item"),K("work-item"),zr(e.active),p("text-bg pl-2 rounded-md sm:min-w-64 min-w-full"),ie(e.id),We(t=>new Yt(t))]),(()=>{let t=e.work_items;return y(t,r=>wi(u([ie(r.id)]),r.label))})())])),h(u([p("flex gap-2 sm:flex-nowrap flex-wrap justify-center")]),u([Ue(u([Dr("work-item"),p("sm:min-w-32 min-w-full text-center")]),u([k("Description")])),Pe(u([Br("task-description"),K("task-description"),zr(e.active),p("text-bg pl-2 rounded-md sm:min-w-64 min-w-full"),ie(e.description),We(t=>new on(t))]))]))]))])),h(u([p("sm:grow-0 sm:h-full grow flex items-center justify-center")]),u([jo(e)]))]))]))}var un=class extends a{constructor(t,r,n,i){super(),this.modal_open=t,this.work_items=r,this.new_work_item_id=n,this.new_work_item_label=i}},Xt=class extends a{},Ge=class extends a{},Zt=class extends a{constructor(t){super(),this.id=t}},Qt=class extends a{constructor(t){super(),this.label=t}},_t=class extends a{constructor(t,r){super(),this.id=t,this.label=r}},Ve=class extends a{constructor(t){super(),this.work_item=t}};function zi(e){return new un(!1,e.work_items,"","")}function Bi(e,t){if(t instanceof Xt)return[e.withFields({modal_open:!0,new_work_item_id:"",new_work_item_label:""}),B(r=>Vr("id-work-item"))];if(t instanceof Ve){let r=t.work_item,n=(()=>{let i=e.work_items;return wn(i,s=>s.id!==r.id)})();return[e.withFields({work_items:n}),B(i=>Wt(n))]}else if(t instanceof Zt){let r=t.id;return[e.withFields({new_work_item_id:r}),C()]}else if(t instanceof Qt){let r=t.label;return[e.withFields({new_work_item_label:r}),C()]}else{if(t instanceof Ge)return[e.withFields({modal_open:!1}),C()];{let r=t.id,n=t.label,i=new pt(r,n),s=U(e.work_items,u([i]));return[e.withFields({work_items:s}),B(o=>(Wt(s),o(new Ge)))]}}}function Ao(e){let t=(()=>{let n=u(["ID","Label","Action"]);return y(n,i=>Pt(u([p("w-1/3")]),u([k(i)])))})(),r=(()=>{let n=e.work_items;return Ae(n,(i,s)=>{let o=P(s,2)===0?"":"bg-surface-0";return Re(u([p(o)]),u([se(u([p("text-center")]),u([k(i.id)])),se(u([p("text-center")]),u([k(i.label)])),se(u([p("text-center")]),u([h(u([p("")]),u([be(u([p("px-4 py-1 my-3 hover:bg-red-700 bg-red-500 text-white duration-300 rounded-full"),ue(new Ve(i))]),u([k("Delete")]))]))]))]))})})();return Mt(u([p("w-full table-auto rounded-md")]),u([Ut(u([p("")]),u([Re(u([p("bg-surface-2 text-white")]),t)])),Rt(u([]),r)]))}function So(e){let t=e.modal_open?["block",""]:["hidden","scale-75"],r=t[0],n=t[1],i=h(u([K("modal-add-work-item"),p("max-w-5xl w-full absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-surface-1 opacity-100 rounded-lg flex flex-col gap-4 p-4 z-999 duration-2000 transition "+n)]),u([di(u([p("text-xl font-semibold")]),u([k("Add new work item")])),Jt(u([p("flex flex-col gap-4"),Ai(new _t(e.new_work_item_id,e.new_work_item_label))]),u([h(u([p("flex justify-center gap-4")]),u([Ue(u([p("mb-1 mt-1 min-w-32")]),u([k("ID:")])),Pe(u([K("id-work-item"),ut("text"),p("text-bg rounded-md grow py-1 px-4"),ie(e.new_work_item_id),We(o=>new Zt(o))]))])),h(u([p("flex justify-center gap-4")]),u([Ue(u([p("mb-1 mt-1 min-w-32")]),u([k("Label:")])),Pe(u([K("label-work-item"),ut("text"),p("text-bg rounded-md grow px-4 py-1"),ie(e.new_work_item_label),We(o=>new Qt(o))]))])),h(u([p("flex w-full gap-4")]),u([Pe(u([p("h-8 rounded-lg bg-teal-300 text-bg w-1/2 cursor-pointer"),ut("submit"),ie("Save")])),be(u([p("h-8 rounded-lg bg-red-400 text-bg w-1/2"),ue(new Ge),ut("button")]),u([k("Cancel")]))]))]))])),s=h(u([K("modal-bg"),p("bg-bg opacity-90 w-screen h-screen z-990"),ue(new Ge)]),u([]));return h(u([K("modal-add-work-item-container"),p("absolute top-0 left-0 w-screen h-screen overflow-hidden z-1 flex flex-col "+r)]),u([h(u([p("w-full h-full relative")]),u([s,i]))]))}function Di(e){return h(u([p("flex flex-col gap-4")]),u([Ao(e),be(u([p("bg-catp-green w-full h-8 rounded-lg text-bg"),ue(new Xt)]),u([k("Add new item")])),So(e)]))}var ln=class extends a{constructor(t,r,n,i){super(),this.global=t,this.tracker=r,this.work_items=n,this.analytics=i}},er=class extends a{constructor(t){super(),this[0]=t}},ht=class extends a{constructor(t){super(),this.work_items=t}},an=class extends a{constructor(t){super(),this.rec=t}},xt=class extends a{constructor(t){super(),this[0]=t}},wt=class extends a{constructor(t){super(),this[0]=t}},gt=class extends a{constructor(t){super(),this[0]=t}},$t=class extends a{constructor(t,r,n){super(),this.url=t,this.title=r,this.route=n}};function qo(e){let t=Oi(e);return new er(t)}function Co(e){let t=Ei(),r=new ln(t,Ii(t),zi(t),Ti(t)),n=It(u([ki(qo)]));return[r,n]}function Io(e,t){let r=(()=>{if(t instanceof er){let s=t[0];return[e.withFields({global:e.global.withFields({current_route:s})}),C()]}else if(t instanceof gt){let s=t[0],o=qi(e.analytics,s),l=o[0],c=o[1];return[e.withFields({analytics:l}),Nt(c,f=>new gt(f))]}else if(t instanceof xt){let s=t[0],o=Ni(e.tracker,s),l=o[0],c=o[1],f=Nt(c,v=>new xt(v)),_=B(v=>{if(s instanceof He){let S=s.record;v(new an(S))}});return[e.withFields({tracker:l}),It(u([f,_]))]}else if(t instanceof wt){let s=t[0],o=Bi(e.work_items,s),l=o[0],c=o[1],f=Nt(c,v=>new wt(v)),_=v=>s instanceof _t?v(new ht(l.work_items)):s instanceof Ve?v(new ht(l.work_items)):void 0;return[e.withFields({work_items:l}),It(u([f,B(_)]))]}else if(t instanceof ht){let s=t.work_items,o=e.global.withFields({work_items:s}),l=e.tracker.withFields({work_items:s});return[e.withFields({global:o,tracker:l}),C()]}else{let s=t.rec,o=U(e.global.records,u([s])),l=e.global.withFields({records:o}),c=new mt(o);return[e.withFields({global:l,analytics:c}),B(f=>Gr(o))]}})(),n=r[0],i=r[1];return[n,i]}function No(e){return h(u([p("w-full h-8 flex flex-col justify-center")]),u([mi(u([p("w-full")]),u([$i(u([p("flex w-full")]),y(e,r=>_i(u([p("mx-auto")]),u([xi(u([si(r.url)]),u([k(r.title)]))]))))]))]))}function Fo(e){let t=u([new $t("/","Tracker",new ke),new $t("/work-items","Work Items",new ft),new $t("/analytics","Analytics",new Je)]),r=(()=>{let n=e.global.current_route;if(n instanceof ke){let i=Fi(e.tracker);return ge(i,s=>new xt(s))}else if(n instanceof Je){let i=Ci(e.analytics);return ge(i,s=>new gt(s))}else{let i=Di(e.work_items);return ge(i,s=>new wt(s))}})();return h(u([p("text-white container p-4 mx-auto max-w-5xl sm:mt-8 mt-4 flex flex-col gap-4")]),u([vi(),Jr(),No(t),Jr(),r]))}function Mi(){let e=ai(Co,Io,Fo),t=ci(e,"#app",void 0);if(!t.isOk())throw Xe("assignment_no_match","timetracker_gleam",189,"main","Assignment pattern did not match",{value:t})}Mi();
